<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>How To Use — Bavarian Rank Engine</title>
    <meta name="description" content="Complete guide to using Bavarian Rank Engine: API keys, all features explained, GEO block CSS reference, and styling examples.">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://bavarianrankengine.com/howto.html">
    <link rel="stylesheet" href="css/style.css">
    <style>
        /* ── Docs layout ─────────────────────────────── */
        .docs-layout {
            display: grid;
            grid-template-columns: 220px 1fr;
            gap: 3rem;
            align-items: start;
        }

        .docs-toc {
            position: sticky;
            top: 90px;
        }

        .docs-toc__label {
            font-family: var(--font-code);
            font-size: 0.68rem;
            text-transform: uppercase;
            letter-spacing: 0.12em;
            color: var(--text-muted);
            margin-bottom: 0.75rem;
        }

        .docs-toc__nav {
            list-style: none;
            border-left: 1px solid var(--border);
        }

        .docs-toc__nav li a {
            display: block;
            padding: 0.3rem 0 0.3rem 1rem;
            font-size: 0.82rem;
            color: var(--text-muted);
            border-left: 2px solid transparent;
            margin-left: -1px;
            transition: color 0.15s, border-color 0.15s;
            line-height: 1.4;
        }

        .docs-toc__nav li a:hover,
        .docs-toc__nav li a.active {
            color: var(--accent-light);
            border-left-color: var(--accent-light);
        }

        .docs-toc__nav li.toc-group {
            margin-top: 0.6rem;
        }

        .docs-toc__nav li.toc-group > a {
            font-weight: 600;
            color: var(--text);
            font-size: 0.83rem;
        }

        .docs-toc__nav li.toc-sub > a {
            padding-left: 1.75rem;
            font-size: 0.78rem;
        }

        /* ── Section styles ──────────────────────────── */
        .docs-section {
            margin-bottom: 4rem;
            scroll-margin-top: 90px;
        }

        .docs-section__eyebrow {
            font-family: var(--font-code);
            font-size: 0.68rem;
            text-transform: uppercase;
            letter-spacing: 0.12em;
            color: var(--accent-light);
            margin-bottom: 0.5rem;
        }

        .docs-section__heading {
            font-family: var(--font-display);
            font-weight: 700;
            font-size: clamp(1.5rem, 3vw, 2rem);
            letter-spacing: -0.02em;
            margin-bottom: 1.25rem;
            padding-bottom: 0.75rem;
            border-bottom: 1px solid var(--border);
        }

        .docs-section__sub {
            font-family: var(--font-body);
            font-weight: 600;
            font-size: 1rem;
            color: var(--accent-light);
            margin: 1.75rem 0 0.6rem;
        }

        .docs-body {
            font-size: 0.95rem;
            color: var(--text-muted);
            line-height: 1.8;
        }

        .docs-body p { margin-bottom: 0.9rem; }
        .docs-body strong { color: var(--text); }
        .docs-body code {
            font-family: var(--font-code);
            font-size: 0.82em;
            background: #1a1a1a;
            border: 1px solid var(--border);
            border-radius: 3px;
            padding: 0.1em 0.4em;
            color: #a5d6ff;
        }
        .docs-body ul, .docs-body ol {
            padding-left: 1.5rem;
            margin-bottom: 0.9rem;
        }
        .docs-body li { margin-bottom: 0.3rem; }

        /* ── Steps ───────────────────────────────────── */
        .docs-steps {
            list-style: none;
            counter-reset: step;
            margin: 1.25rem 0;
        }

        .docs-steps li {
            counter-increment: step;
            display: flex;
            gap: 1rem;
            margin-bottom: 1rem;
            font-size: 0.95rem;
            color: var(--text-muted);
            line-height: 1.7;
        }

        .docs-steps li::before {
            content: counter(step);
            display: flex;
            align-items: center;
            justify-content: center;
            min-width: 28px;
            height: 28px;
            border-radius: 50%;
            background: var(--accent);
            color: #fff;
            font-size: 0.75rem;
            font-weight: 700;
            flex-shrink: 0;
            margin-top: 0.1rem;
        }

        .docs-steps li strong { color: var(--text); }
        .docs-steps li code {
            font-family: var(--font-code);
            font-size: 0.82em;
            background: #1a1a1a;
            border: 1px solid var(--border);
            border-radius: 3px;
            padding: 0.1em 0.4em;
            color: #a5d6ff;
        }

        /* ── Callout boxes ───────────────────────────── */
        .callout {
            display: flex;
            gap: 0.9rem;
            padding: 1rem 1.25rem;
            border-radius: 6px;
            border-left: 3px solid var(--accent);
            background: var(--surface);
            border-top: 1px solid var(--border);
            border-right: 1px solid var(--border);
            border-bottom: 1px solid var(--border);
            margin: 1.25rem 0;
            font-size: 0.9rem;
            color: var(--text-muted);
            line-height: 1.7;
        }

        .callout--tip { border-left-color: #2e7d32; }
        .callout--tip .callout__icon { color: #4caf82; }

        .callout--note { border-left-color: var(--accent); }
        .callout--note .callout__icon { color: var(--accent-light); }

        .callout__icon {
            font-size: 1rem;
            flex-shrink: 0;
            margin-top: 0.1rem;
        }

        .callout code {
            font-family: var(--font-code);
            font-size: 0.82em;
            background: #1a1a1a;
            border: 1px solid var(--border);
            border-radius: 3px;
            padding: 0.1em 0.4em;
            color: #a5d6ff;
        }

        .callout strong { color: var(--text); }

        /* ── Provider cards ──────────────────────────── */
        .provider-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
            margin: 1.25rem 0;
        }

        .provider-card {
            background: var(--surface);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 1.25rem;
        }

        .provider-card__name {
            font-weight: 600;
            font-size: 0.95rem;
            color: var(--text);
            margin-bottom: 0.35rem;
        }

        .provider-card__model {
            font-family: var(--font-code);
            font-size: 0.73rem;
            color: var(--accent-light);
            margin-bottom: 0.6rem;
        }

        .provider-card__desc {
            font-size: 0.85rem;
            color: var(--text-muted);
            line-height: 1.6;
        }

        .provider-card__where {
            margin-top: 0.75rem;
            font-size: 0.8rem;
            color: var(--text-muted);
        }

        .provider-card__where strong {
            color: var(--text);
            display: block;
            margin-bottom: 0.1rem;
        }

        /* ── Feature list ────────────────────────────── */
        .feature-list {
            list-style: none;
            margin: 0.75rem 0;
        }

        .feature-list li {
            display: flex;
            align-items: flex-start;
            gap: 0.65rem;
            font-size: 0.9rem;
            color: var(--text-muted);
            padding: 0.4rem 0;
            border-bottom: 1px solid var(--border);
            line-height: 1.5;
        }

        .feature-list li:last-child { border-bottom: none; }

        .feature-list li::before {
            content: '◆';
            color: var(--accent);
            font-size: 0.5rem;
            flex-shrink: 0;
            margin-top: 0.45rem;
        }

        .feature-list strong { color: var(--text); }

        /* ── CSS reference table ─────────────────────── */
        .class-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.85rem;
            margin: 1.25rem 0;
        }

        .class-table th {
            text-align: left;
            padding: 0.55rem 0.8rem;
            background: var(--surface);
            border: 1px solid var(--border);
            font-family: var(--font-code);
            font-size: 0.72rem;
            text-transform: uppercase;
            letter-spacing: 0.08em;
            color: var(--text-muted);
        }

        .class-table td {
            padding: 0.6rem 0.8rem;
            border: 1px solid var(--border);
            color: var(--text-muted);
            line-height: 1.5;
            vertical-align: top;
        }

        .class-table td:first-child {
            font-family: var(--font-code);
            font-size: 0.8rem;
            color: #a5d6ff;
            white-space: nowrap;
        }

        .class-table tr:hover td { background: #111; }

        /* ── GEO preview ─────────────────────────────── */
        .geo-preview {
            border: 1px solid var(--border);
            border-radius: 8px;
            overflow: hidden;
            margin: 1.25rem 0;
        }

        .geo-preview__label {
            background: var(--surface-deep);
            border-bottom: 1px solid var(--border);
            padding: 0.4rem 0.9rem;
            font-family: var(--font-code);
            font-size: 0.7rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: var(--text-muted);
        }

        .geo-preview__inner {
            padding: 1.25rem;
            background: #181818;
        }

        /* ── Responsive ──────────────────────────────── */
        @media (max-width: 820px) {
            .docs-layout {
                grid-template-columns: 1fr;
            }

            .docs-toc {
                position: static;
                border: 1px solid var(--border);
                border-radius: 6px;
                padding: 1rem 1.25rem;
                background: var(--surface);
            }

            .provider-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>

    <script>
        var _paq = window._paq = window._paq || [];
        _paq.push(["trackPageView"]);
        _paq.push(["enableLinkTracking"]);
        (function() {
            var u="//data.donau2space.de/";
            _paq.push(["setTrackerUrl", u+"matomo.php"]);
            _paq.push(["setSiteId", "2"]);
            var d=document, g=d.createElement("script"), s=d.getElementsByTagName("script")[0];
            g.async=true; g.src=u+"matomo.js"; s.parentNode.insertBefore(g,s);
        })();
    </script>
</head>
<body>

<nav class="nav scrolled" id="nav">
    <div class="container nav__inner">
        <a href="index.html" class="nav__logo"><span>&lt;/&gt;</span> Bavarian Rank Engine</a>
        <ul class="nav__links" id="navLinks">
            <li><a href="index.html#features">Features</a></li>
            <li><a href="index.html#security">Security</a></li>
            <li><a href="index.html#pricing">Pricing</a></li>
            <li><a href="howto.html" style="color:var(--text);">How To</a></li>
            <li><a href="index.html#getit">Get It</a></li>
        </ul>
        <button class="nav__toggle" id="navToggle" aria-label="Toggle menu">&#9776;</button>
    </div>
</nav>

<main class="subpage">
    <div class="container">

        <div class="subpage__header">
            <h1 class="subpage__title">How to use it</h1>
            <p class="subpage__meta">A practical guide — from first install to CSS customisation</p>
        </div>

        <div class="docs-layout">

            <!-- ═══════════════ TOC ═══════════════ -->
            <aside class="docs-toc" aria-label="Table of contents">
                <p class="docs-toc__label">On this page</p>
                <ul class="docs-toc__nav">
                    <li class="toc-group"><a href="#getting-started">Getting Started</a></li>
                    <li class="toc-sub"><a href="#no-api-key">Without an API key</a></li>
                    <li class="toc-sub"><a href="#with-api-key">With an API key</a></li>

                    <li class="toc-group"><a href="#api-keys">API Keys</a></li>
                    <li class="toc-sub"><a href="#openai">OpenAI</a></li>
                    <li class="toc-sub"><a href="#anthropic">Anthropic</a></li>
                    <li class="toc-sub"><a href="#gemini">Google Gemini</a></li>
                    <li class="toc-sub"><a href="#grok">xAI Grok</a></li>
                    <li class="toc-sub"><a href="#wp-config">wp-config.php</a></li>

                    <li class="toc-group"><a href="#features">Features</a></li>
                    <li class="toc-sub"><a href="#meta-generator">AI Meta Generator</a></li>
                    <li class="toc-sub"><a href="#bulk-generator">Bulk Generator</a></li>
                    <li class="toc-sub"><a href="#schema">Schema.org</a></li>
                    <li class="toc-sub"><a href="#geo-block">GEO Quick Overview</a></li>
                    <li class="toc-sub"><a href="#llms-txt">llms.txt</a></li>
                    <li class="toc-sub"><a href="#robots">robots.txt Manager</a></li>
                    <li class="toc-sub"><a href="#crawler-log">Crawler Log</a></li>

                    <li class="toc-group"><a href="#css-reference">GEO Block CSS</a></li>
                    <li class="toc-sub"><a href="#css-classes">Classes</a></li>
                    <li class="toc-sub"><a href="#css-vars">Custom Properties</a></li>
                    <li class="toc-sub"><a href="#css-example">Example</a></li>
                </ul>
            </aside>

            <!-- ═══════════════ CONTENT ═══════════════ -->
            <div class="docs-content">

                <!-- ── Getting Started ──────────────── -->
                <section class="docs-section" id="getting-started">
                    <p class="docs-section__eyebrow">Step 0</p>
                    <h2 class="docs-section__heading">Getting Started</h2>

                    <h3 class="docs-section__sub" id="no-api-key">Without an API key</h3>
                    <div class="docs-body">
                        <p>The plugin works <strong>immediately after activation — no API key required</strong>. In this mode it uses the fallback meta extractor: it reads the first paragraph of each post, finds a clean sentence boundary, and trims the result to 150&ndash;160 characters. This is automatic and costs nothing.</p>
                        <p>Features that work without any API key:</p>
                        <ul>
                            <li>Fallback meta description (sentence-aware extraction)</li>
                            <li>Schema.org JSON-LD output (Organization, Article, Author, Speakable, BreadcrumbList)</li>
                            <li>llms.txt — machine-readable content index at <code>/llms.txt</code></li>
                            <li>robots.txt manager — block individual AI crawlers</li>
                            <li>Crawler log — see which AI bots visit your site</li>
                        </ul>
                    </div>

                    <div class="callout callout--tip">
                        <span class="callout__icon">&#10003;</span>
                        <span>For a new site, start without a key. Install, activate, configure Schema.org settings, and check that <code>yourdomain.com/llms.txt</code> returns your content index. Add an API key later when you want AI-generated meta descriptions and GEO blocks.</span>
                    </div>

                    <h3 class="docs-section__sub" id="with-api-key">With an API key</h3>
                    <div class="docs-body">
                        <p>Once you add an API key, all AI features unlock:</p>
                        <ul>
                            <li>AI Meta Generator — auto-writes a 150&ndash;160 character meta description on publish</li>
                            <li>Bulk Generator — batch-process your entire back-catalogue</li>
                            <li>GEO Quick Overview — AI-generated summary block injected into each post</li>
                        </ul>
                    </div>

                    <ol class="docs-steps">
                        <li><strong>Install the plugin.</strong> Upload the ZIP via <em>Plugins &rarr; Add New &rarr; Upload Plugin</em> or install directly from WordPress.org.</li>
                        <li><strong>Activate it.</strong> You should now see <em>Bavarian Rank</em> in your admin sidebar.</li>
                        <li><strong>Open AI Provider settings</strong> at <em>Bavarian Rank &rarr; AI Provider</em> and select your provider (OpenAI, Anthropic, Gemini, or Grok).</li>
                        <li><strong>Paste your API key.</strong> Only the last 5 characters are shown after saving — this is by design for security.</li>
                        <li><strong>Pick a model</strong> from the dropdown. <code>gpt-4o-mini</code> or <code>gemini-2.0-flash</code> are fast and cheap for meta descriptions.</li>
                        <li><strong>Save</strong> and publish a test post. The meta description should generate automatically.</li>
                    </ol>
                </section>

                <!-- ── API Keys ─────────────────────── -->
                <section class="docs-section" id="api-keys">
                    <p class="docs-section__eyebrow">Configuration</p>
                    <h2 class="docs-section__heading">Where to get API keys</h2>

                    <div class="docs-body">
                        <p>Bavarian Rank Engine supports four AI providers. You only need <strong>one key from one provider</strong>. The key is billed directly by the provider — not through this plugin.</p>
                    </div>

                    <div class="provider-grid">
                        <div class="provider-card" id="openai">
                            <p class="provider-card__name">OpenAI</p>
                            <p class="provider-card__model">gpt-4.1 &middot; gpt-4o &middot; gpt-4o-mini</p>
                            <p class="provider-card__desc">The most widely used provider. GPT-4o mini is extremely cheap and works well for meta descriptions. GPT-4.1 gives the highest quality output.</p>
                            <div class="provider-card__where">
                                <strong>Get your key:</strong>
                                platform.openai.com &rarr; API keys &rarr; Create new secret key
                            </div>
                        </div>

                        <div class="provider-card" id="anthropic">
                            <p class="provider-card__name">Anthropic</p>
                            <p class="provider-card__model">claude-3-5-sonnet &middot; claude-3-haiku</p>
                            <p class="provider-card__desc">Claude models are strong at following structured instructions, making them reliable for JSON output (GEO blocks). Haiku is fast and economical.</p>
                            <div class="provider-card__where">
                                <strong>Get your key:</strong>
                                console.anthropic.com &rarr; Settings &rarr; API keys
                            </div>
                        </div>

                        <div class="provider-card" id="gemini">
                            <p class="provider-card__name">Google Gemini</p>
                            <p class="provider-card__model">gemini-2.0-flash &middot; gemini-1.5-pro</p>
                            <p class="provider-card__desc">Gemini 2.0 Flash has a generous free tier and very fast response times. A solid choice for high-volume bulk generation.</p>
                            <div class="provider-card__where">
                                <strong>Get your key:</strong>
                                aistudio.google.com &rarr; Get API key
                            </div>
                        </div>

                        <div class="provider-card" id="grok">
                            <p class="provider-card__name">xAI Grok</p>
                            <p class="provider-card__model">grok-3 &middot; grok-3-mini</p>
                            <p class="provider-card__desc">Grok 3 mini is competitive in quality and pricing. A good alternative if you prefer X's ecosystem.</p>
                            <div class="provider-card__where">
                                <strong>Get your key:</strong>
                                console.x.ai &rarr; API keys
                            </div>
                        </div>
                    </div>

                    <h3 class="docs-section__sub" id="wp-config">Recommended: define keys in wp-config.php</h3>
                    <div class="docs-body">
                        <p>For maximum security, define your API keys in <code>wp-config.php</code> instead of entering them in the admin UI. The plugin detects the constants automatically — <strong>nothing is stored in the database at all</strong>.</p>
                    </div>

                    <div class="code-block">
                        <pre><span class="c">// wp-config.php — add before "That's all, stop editing!"</span>

<span class="k">define</span>(<span class="s">'BRE_OPENAI_KEY'</span>,    <span class="s">'sk-...'</span>);
<span class="k">define</span>(<span class="s">'BRE_ANTHROPIC_KEY'</span>, <span class="s">'sk-ant-...'</span>);
<span class="k">define</span>(<span class="s">'BRE_GEMINI_KEY'</span>,    <span class="s">'AI...'</span>);
<span class="k">define</span>(<span class="s">'BRE_GROK_KEY'</span>,      <span class="s">'xai-...'</span>);</pre>
                    </div>

                    <div class="callout callout--note">
                        <span class="callout__icon">&#9432;</span>
                        <span>You only need to define the key for the provider you actually use. Constants take priority over any value saved in the admin — the UI field will show a masked placeholder in that case.</span>
                    </div>
                </section>

                <!-- ── Features ─────────────────────── -->
                <section class="docs-section" id="features">
                    <p class="docs-section__eyebrow">Reference</p>
                    <h2 class="docs-section__heading">Features explained</h2>

                    <!-- AI Meta Generator -->
                    <h3 class="docs-section__sub" id="meta-generator">AI Meta Generator</h3>
                    <div class="docs-body">
                        <p><strong>Settings page:</strong> <em>Bavarian Rank &rarr; Meta Generator</em></p>
                        <p>Automatically generates a 150&ndash;160 character meta description every time a post is published. The description is written by your chosen AI model based on a configurable prompt.</p>
                    </div>
                    <ul class="feature-list">
                        <li><strong>Auto on publish</strong> — fires on <code>transition_post_status</code> when a post goes to <code>publish</code>. No manual action needed.</li>
                        <li><strong>Custom prompt</strong> — use <code>{title}</code>, <code>{content}</code>, <code>{excerpt}</code>, <code>{language}</code> placeholders. The default prompt instructs the AI to stay factual and skip superlatives.</li>
                        <li><strong>Language detection</strong> — picks up the site locale, with Polylang and WPML support. Descriptions are generated in the post language, not the admin language.</li>
                        <li><strong>Editor meta box</strong> — every post has a "Meta Description (BRE)" box. Edit the description, see the character count live, or click <em>Mit KI neu generieren</em> to regenerate without republishing.</li>
                        <li><strong>SEO plugin integration</strong> — writes into the Rank Math, Yoast, AIOSEO, or SEOPress meta field so your existing plugin handles the <code>&lt;meta&gt;</code> output. Falls back to the native <code>_bre_meta_description</code> field.</li>
                        <li><strong>Fallback</strong> — if no API key is configured (or the API call fails), a sentence-boundary-aware extractor pulls the opening of the post content as a description.</li>
                    </ul>

                    <!-- Bulk Generator -->
                    <h3 class="docs-section__sub" id="bulk-generator">Bulk Generator</h3>
                    <div class="docs-body">
                        <p><strong>Settings page:</strong> <em>Bavarian Rank &rarr; Bulk Generator</em></p>
                        <p>Processes all published posts that have no meta description yet — your existing back-catalogue in one go.</p>
                    </div>
                    <ul class="feature-list">
                        <li><strong>Batch processing</strong> — generates in configurable batch sizes (default: 5 posts per batch), with a 6-second delay between batches to stay under rate limits.</li>
                        <li><strong>Live log</strong> — each completed post is printed to the log in real time. Failures are marked separately.</li>
                        <li><strong>Cost estimate</strong> — shows a running token and dollar estimate as it processes.</li>
                        <li><strong>Safe to stop</strong> — a transient lock prevents two simultaneous runs. Auto-expires after 15 minutes if something goes wrong. Already-generated posts are skipped on the next run.</li>
                        <li><strong>Retry logic</strong> — up to 3 retries per post with a 1-second delay between attempts before marking a post as failed.</li>
                    </ul>

                    <!-- Schema.org -->
                    <h3 class="docs-section__sub" id="schema">Schema.org (GEO Signals)</h3>
                    <div class="docs-body">
                        <p><strong>Settings page:</strong> <em>Bavarian Rank &rarr; Settings &rarr; Schema</em></p>
                        <p>Injects JSON-LD structured data into the <code>&lt;head&gt;</code> of every post and page. This helps both traditional search engines and AI retrieval systems understand your content and authorship.</p>
                    </div>
                    <ul class="feature-list">
                        <li><strong>Organization</strong> — site name, URL, logo, and optional <code>sameAs</code> social profile links (Twitter/X, LinkedIn, GitHub, YouTube, etc.).</li>
                        <li><strong>Article</strong> — headline, author, publish date, modified date, word count, keywords.</li>
                        <li><strong>Author</strong> — author name and profile URL from WordPress user data.</li>
                        <li><strong>Speakable</strong> — marks content sections that are suitable for text-to-speech and AI voice snippets.</li>
                        <li><strong>BreadcrumbList</strong> — auto-suppressed when Rank Math or Yoast is active to prevent duplicate structured data.</li>
                        <li><strong>AI meta tags</strong> — adds <code>max-snippet:-1</code>, <code>max-image-preview:large</code>, <code>max-video-preview:-1</code> to signal AI crawlers that full snippets are welcome.</li>
                    </ul>

                    <!-- GEO Block -->
                    <h3 class="docs-section__sub" id="geo-block">GEO Quick Overview</h3>
                    <div class="docs-body">
                        <p><strong>Settings page:</strong> <em>Bavarian Rank &rarr; GEO Block</em></p>
                        <p>Generates an AI-written summary block and injects it into the post content. The block contains a short summary, key bullet points, and an optional FAQ. It is rendered as a native <code>&lt;details&gt;</code> element that visitors can expand.</p>
                        <p>The block is designed to help AI retrieval systems (ChatGPT, Perplexity, Gemini) extract structured answers directly from your page, reducing reliance on them interpreting long prose.</p>
                    </div>
                    <ul class="feature-list">
                        <li><strong>Three modes:</strong> <em>Auto on publish</em> (generates whenever a post is published or updated), <em>Hybrid</em> (auto only when fields are empty — safe for manual edits), <em>Manual only</em> (use the editor button exclusively).</li>
                        <li><strong>Insertion position:</strong> after first paragraph (default), top of post, or bottom of post.</li>
                        <li><strong>Output style:</strong> collapsible <code>&lt;details&gt;</code> (default), always open, or store only (data saved but not rendered — useful for headless setups).</li>
                        <li><strong>FAQ threshold</strong> — FAQ is only generated when a post exceeds a configurable word count (default: 350 words) so short posts don't get irrelevant Q&A.</li>
                        <li><strong>Per-post control</strong> — the GEO editor meta box on every post lets you generate, edit, or clear the block content, lock it against auto-regeneration, or disable it for that post.</li>
                        <li><strong>Prompt add-on</strong> — optionally allow authors to add extra instructions per post (e.g., "Focus on the technical aspects" or "Avoid mentioning prices").</li>
                        <li><strong>Color scheme</strong> — auto (follows OS dark/light mode), always light, or always dark.</li>
                        <li><strong>Accent color</strong> — pick any color for the left border stripe and the expand arrow.</li>
                        <li><strong>Custom CSS</strong> — scoped automatically to <code>.bre-geo</code>. Enter CSS properties only, no selector needed.</li>
                    </ul>

                    <!-- llms.txt -->
                    <h3 class="docs-section__sub" id="llms-txt">llms.txt</h3>
                    <div class="docs-body">
                        <p><strong>Settings page:</strong> <em>Bavarian Rank &rarr; llms.txt</em></p>
                        <p>Serves a machine-readable content index at <code>yourdomain.com/llms.txt</code>. Following the emerging <a href="https://llmstxt.org" target="_blank" rel="noopener">llms.txt standard</a>, it gives AI systems a clean, structured overview of your site without crawling individual pages.</p>
                    </div>
                    <ul class="feature-list">
                        <li><strong>Auto-generated</strong> — pulls published posts and pages from WordPress automatically. No manual maintenance.</li>
                        <li><strong>Paginated</strong> — large sites use <code>/llms.txt?page=2</code> etc. to avoid oversized files.</li>
                        <li><strong>Custom sections</strong> — add freeform blocks of text before the auto-generated content (e.g., site purpose, editorial guidelines, contact info).</li>
                        <li><strong>ETag / Last-Modified caching</strong> — proper HTTP caching headers mean AI crawlers only re-fetch when content changes.</li>
                        <li><strong>Priority over Rank Math</strong> — if Rank Math also tries to serve <code>/llms.txt</code>, Bavarian Rank Engine takes priority automatically.</li>
                    </ul>

                    <!-- robots.txt -->
                    <h3 class="docs-section__sub" id="robots">robots.txt Manager</h3>
                    <div class="docs-body">
                        <p><strong>Settings page:</strong> <em>Bavarian Rank &rarr; robots.txt</em></p>
                        <p>Lets you block individual AI training and data-harvesting crawlers from your site — without touching any file on the server.</p>
                    </div>
                    <ul class="feature-list">
                        <li><strong>13 known AI bots</strong> — GPTBot, ClaudeBot, Google-Extended, PerplexityBot, Bytespider, CCBot, Amazonbot, anthropic-ai, and more. Toggle each one individually.</li>
                        <li><strong>No file editing required</strong> — injects rules via WordPress's <code>robots_txt</code> filter. Works with both virtual and physical robots.txt files.</li>
                        <li><strong>Granular control</strong> — block training bots while keeping search engine bots (Googlebot, Bingbot) unrestricted.</li>
                    </ul>

                    <!-- Crawler Log -->
                    <h3 class="docs-section__sub" id="crawler-log">Crawler Log</h3>
                    <div class="docs-body">
                        <p><strong>View in:</strong> <em>Bavarian Rank &rarr; Dashboard</em> (30-day summary)</p>
                        <p>Passively logs visits from known AI bots. Runs silently in the background — no performance impact on frontend.</p>
                    </div>
                    <ul class="feature-list">
                        <li><strong>Logs:</strong> bot name, hashed IP (SHA-256, never plain text), and requested URL.</li>
                        <li><strong>90-day auto-purge</strong> — old records are cleaned up automatically via WP-Cron.</li>
                        <li><strong>Dashboard summary</strong> — see which bots visited, how many times, and when they were last seen — for the past 30 days.</li>
                        <li><strong>Privacy-safe</strong> — IPs are hashed before storage and are never stored in plain text.</li>
                    </ul>
                </section>

                <!-- ── CSS Reference ─────────────────── -->
                <section class="docs-section" id="css-reference">
                    <p class="docs-section__eyebrow">Developer Reference</p>
                    <h2 class="docs-section__heading">GEO Block CSS</h2>

                    <div class="docs-body">
                        <p>The GEO block renders a single <code>&lt;details&gt;</code> element. All styling is scoped to the <code>.bre-geo</code> class and driven by CSS custom properties, so it integrates cleanly with any theme.</p>
                        <p>The bundled stylesheet (<em>Bavarian Rank &rarr; GEO Block &rarr; Load minimal CSS</em>) covers layout and dark/light theming. You can disable it and write your own from scratch, or use the Custom CSS field to override individual properties.</p>
                    </div>

                    <h3 class="docs-section__sub" id="css-classes">CSS Classes</h3>

                    <table class="class-table">
                        <thead>
                            <tr>
                                <th>Selector</th>
                                <th>Element</th>
                                <th>Notes</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>.bre-geo</td>
                                <td><code>&lt;details&gt;</code> wrapper</td>
                                <td>Root element. Contains all CSS custom properties. Add <code>data-bre-scheme="dark"</code> or <code>"light"</code> attribute to force a color scheme.</td>
                            </tr>
                            <tr>
                                <td>.bre-geo summary</td>
                                <td>Clickable header bar</td>
                                <td>Contains the block title. Has the accent-colored left border stripe and the ▶ expand arrow.</td>
                            </tr>
                            <tr>
                                <td>.bre-geo__title</td>
                                <td><code>&lt;span&gt;</code> inside summary</td>
                                <td>The block title text (configurable in settings, default "Quick Overview").</td>
                            </tr>
                            <tr>
                                <td>.bre-geo__section</td>
                                <td><code>&lt;div&gt;</code> per section</td>
                                <td>Applied to every content section (summary, bullets, FAQ). Has top border and padding.</td>
                            </tr>
                            <tr>
                                <td>.bre-geo__summary</td>
                                <td>Summary section</td>
                                <td>Contains an <code>&lt;h3&gt;</code> label and a <code>&lt;p&gt;</code> with the generated summary text.</td>
                            </tr>
                            <tr>
                                <td>.bre-geo__bullets</td>
                                <td>Key Points section</td>
                                <td>Contains an <code>&lt;h3&gt;</code> label and a <code>&lt;ul&gt;</code> with one <code>&lt;li&gt;</code> per bullet point.</td>
                            </tr>
                            <tr>
                                <td>.bre-geo__faq</td>
                                <td>FAQ section</td>
                                <td>Contains an <code>&lt;h3&gt;</code> label and a <code>&lt;dl&gt;</code> with alternating <code>&lt;dt&gt;</code> (question) and <code>&lt;dd&gt;</code> (answer) pairs.</td>
                            </tr>
                        </tbody>
                    </table>

                    <h3 class="docs-section__sub" id="css-vars">CSS Custom Properties</h3>

                    <div class="docs-body">
                        <p>All color values are CSS custom properties defined on <code>.bre-geo</code>. Override any of them inline via the <strong>Accent color</strong> picker or the <strong>Custom CSS</strong> field in the GEO Block settings, or target them directly in your theme's stylesheet.</p>
                    </div>

                    <table class="class-table">
                        <thead>
                            <tr>
                                <th>Property</th>
                                <th>Default (light)</th>
                                <th>Default (dark)</th>
                                <th>Used on</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>--bre-accent</td>
                                <td>#0073aa</td>
                                <td>#4ea8d8</td>
                                <td>Summary bar left border, expand arrow color</td>
                            </tr>
                            <tr>
                                <td>--bre-bg</td>
                                <td>#fafafa</td>
                                <td>#1e1e1e</td>
                                <td>Block background</td>
                            </tr>
                            <tr>
                                <td>--bre-border</td>
                                <td>#e0e0e0</td>
                                <td>#3d3d3d</td>
                                <td>Outer border of the block</td>
                            </tr>
                            <tr>
                                <td>--bre-sec-border</td>
                                <td>#e0e0e0</td>
                                <td>#3d3d3d</td>
                                <td>Borders between sections</td>
                            </tr>
                            <tr>
                                <td>--bre-label</td>
                                <td>#666</td>
                                <td>#999</td>
                                <td>Section heading text (SUMMARY, KEY POINTS, FAQ)</td>
                            </tr>
                            <tr>
                                <td>--bre-faq-ans</td>
                                <td>#444</td>
                                <td>#bbb</td>
                                <td>FAQ answer text color</td>
                            </tr>
                        </tbody>
                    </table>

                    <div class="callout callout--note">
                        <span class="callout__icon">&#9432;</span>
                        <span>The <code>data-bre-scheme="dark"</code> attribute always wins over <code>@media (prefers-color-scheme: dark)</code>. Use <code>data-bre-scheme="light"</code> on a dark site to force the light palette for a specific post, and omit the attribute entirely for auto (OS preference) behaviour.</span>
                    </div>

                    <h3 class="docs-section__sub" id="css-example">Example: Custom Styling</h3>

                    <div class="docs-body">
                        <p>Below is a practical example that changes the accent color to amber, rounds the block more, and adds a subtle box shadow — matching a magazine-style theme. Paste this into <em>GEO Block &rarr; Custom CSS</em> (properties only, no selector) <strong>or</strong> into your theme's stylesheet using the full selector.</p>
                    </div>

                    <div class="geo-preview">
                        <div class="geo-preview__label">Custom CSS &rarr; paste into GEO Block settings</div>
                        <div class="geo-preview__inner">
                            <div class="code-block" style="margin:0;border:none;border-radius:0;">
<pre><span class="c">/* Paste into GEO Block → Custom CSS (no selector needed) */</span>
border-radius: 12px;
box-shadow: 0 2px 12px rgba(0,0,0,.07);
--bre-accent: #e67e22;
--bre-bg: #fffdf9;
--bre-border: #f0e6d0;
--bre-sec-border: #f0e6d0;
--bre-label: #999;
font-family: 'Georgia', serif;</pre>
                            </div>
                        </div>
                    </div>

                    <div class="geo-preview" style="margin-top:1.5rem;">
                        <div class="geo-preview__label">Full theme stylesheet targeting (e.g. for dark theme integration)</div>
                        <div class="geo-preview__inner">
                            <div class="code-block" style="margin:0;border:none;border-radius:0;">
<pre><span class="c">/* In your theme's CSS — override the whole palette */</span>
.bre-geo {
    --bre-accent:     #7c3aed;   <span class="c">/* purple accent */</span>
    --bre-bg:         #1a1a2e;   <span class="c">/* dark navy */</span>
    --bre-border:     #2d2d44;
    --bre-sec-border: #2d2d44;
    --bre-label:      #8888aa;
    --bre-faq-ans:    #ccccdd;
    border-radius: 8px;
}

<span class="c">/* Tighten spacing for sidebar widgets */</span>
.sidebar .bre-geo__section {
    padding: 0.5em 0.75em;
}

<span class="c">/* Hide FAQ in compact views */</span>
.compact .bre-geo__faq {
    display: none;
}</pre>
                            </div>
                        </div>
                    </div>

                    <div class="callout callout--tip">
                        <span class="callout__icon">&#10003;</span>
                        <span><strong>Disable the bundled CSS entirely</strong> if you want full control. Uncheck <em>Load minimal CSS</em> in the GEO Block settings. The markup stays exactly the same — only the stylesheet is removed. Your theme then needs to style <code>.bre-geo</code> from scratch.</span>
                    </div>
                </section>

                <!-- ── Footer note ───────────────────── -->
                <div style="margin-top:2rem;padding:1.5rem;background:var(--surface);border:1px solid var(--border);border-radius:8px;font-size:0.88rem;color:var(--text-muted);line-height:1.7;">
                    <strong style="color:var(--text);display:block;margin-bottom:0.4rem;">This page is kept up to date.</strong>
                    Whenever a new feature is added or an existing one changes, this guide is updated in the same release. Check the <a href="changelog.html">Changelog</a> for a complete version history.
                    Questions or something missing? Open an issue at <a href="https://git.donau2space.de/Michael/bavarianrankengine" target="_blank" rel="noopener">git.donau2space.de</a> or visit the <a href="https://missioncontrol.donau2space.de" target="_blank" rel="noopener">support forum</a>.
                </div>

            </div><!-- /docs-content -->

        </div><!-- /docs-layout -->

    </div>
</main>

<footer class="footer">
    <div class="container footer__inner">
        <span class="footer__brand">
            Bavarian Rank Engine &mdash; by <a href="https://donau2space.de" target="_blank" rel="noopener">Donau2Space.de</a>
        </span>
        <ul class="footer__links">
            <li><a href="howto.html">How To</a></li>
            <li><a href="changelog.html">Changelog</a></li>
            <li><a href="impressum.html">Impressum &amp; Datenschutz</a></li>
        </ul>
    </div>
</footer>

<script src="js/main.js"></script>
<script>
/* Active TOC highlight on scroll */
(function () {
    var sections = document.querySelectorAll('.docs-section');
    var links    = document.querySelectorAll('.docs-toc__nav a');
    if (!sections.length || !links.length) return;

    function onScroll() {
        var scrollY = window.scrollY + 110;
        var active  = null;
        sections.forEach(function (s) {
            if (s.offsetTop <= scrollY) active = s.id;
        });
        /* also check sub-anchors (h3 ids) */
        document.querySelectorAll('[id]').forEach(function (el) {
            if (el.offsetTop <= scrollY) active = el.id;
        });
        links.forEach(function (a) {
            var href = a.getAttribute('href').replace('#', '');
            a.classList.toggle('active', href === active);
        });
    }
    window.addEventListener('scroll', onScroll, { passive: true });
    onScroll();
})();
</script>
</body>
</html>
